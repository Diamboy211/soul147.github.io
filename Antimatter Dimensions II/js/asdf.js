!function(){firebase.initializeApp({apiKey:"AIzaSyAPmikMzHcgjH_UHylq1WyzoDoAS4nRliQ",authDomain:"the-collective-soul.firebaseapp.com",databaseURL:"https://the-collective-soul.firebaseio.com",projectId:"the-collective-soul",storageBucket:"the-collective-soul.appspot.com",messagingSenderId:"641540216258",appId:"1:641540216258:web:068d4729bab7ed80"});var e=firebase.firestore().collection("2020");function n(e){return document.getElementById(e)}var t={f:"first name",l:"last name",e:"email address"};function a(e,t){n(e).innerHTML=t}function i(e){var i=document.getElementById(e).value;if(n(e+"e").innerHTML=" ",!i.replace(/\s/g,"").length)return a(e+"e","Please input your "+t[e]+".");if("e"==e){if(!i.includes("@"))return a("ee","Email address must contain an @ symbol.");if(!i.substr(i.search("@")+1,i.length).includes("."))return a("ee","Email address must contain a period.")}return!0}function o(){for(var e,n=(e="a",document.getElementsByName(e)),t=0;t<n.length;t++)if(n[t].checked)return n[t].id}window.s=function(){(function(){if((e=[i("f"),i("l"),i("e"),(n("ae").innerHTML=" ",!!o()||(n("ae").innerHTML="Please select an option.",!1))])[0]&&e[1]&&e[2]&&e[3]){var e=!0;return r.forEach(function(t){t.e==n("e").value&&(e=a("ee","This email address has already pledged."))}),e}})()&&e.doc(n("e").value).set({f:n("f").value,l:n("l").value,e:n("e").value,a:o(),v:n("v").checked,i:l.docs.length,t:Date.now()})};var l,r=[];e.onSnapshot(function(){e.get().then(function(e){l=e,r=[];for(var t=0;t<l.docs.length;t++)r[t]=l.docs[t].data();n("list").innerHTML="",r.sort(function(e,n){return n.t-e.t}),r.forEach(function(e){n("list").innerHTML+="<li>"+e.f+" "+e.l+"</li>"})})})}();